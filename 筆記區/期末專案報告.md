# 114å­¸å¹´ç¬¬ä¸€å­¸æœŸ APPç¨‹å¼è¨­è¨ˆæœŸæœ«å°ˆæ¡ˆæˆæœå ±å‘Š

## é¡Œç›®ï¼šç¿’æ…£è‹±é›„ Habit Hero - éŠæˆ²åŒ–ç¿’æ…£é¤Šæˆ APP

### çµ„å“¡
| å­¸è™Ÿ | å§“å |
|------|------|
| C112151106 | è”¡å¯ŒåŸ |

### æ—¥æœŸ
115å¹´1æœˆ6æ—¥

---

## 1. å‹•æ©Ÿèˆ‡ç›®çš„

### å‹•æ©Ÿ
åœ¨ç¾ä»£å¿™ç¢Œçš„ç”Ÿæ´»ä¸­ï¼Œè¨±å¤šäººæƒ³è¦é¤Šæˆè‰¯å¥½çš„ç¿’æ…£ï¼Œå»å¾€å¾€å› ç‚ºç¼ºä¹å‹•åŠ›æˆ–é›£ä»¥æŒçºŒè€Œæ”¾æ£„ã€‚å‚³çµ±çš„å¾…è¾¦äº‹é … App é›–ç„¶å¯¦ç”¨ï¼Œä½†ç¼ºä¹è¶£å‘³æ€§ï¼Œä½¿ç”¨è€…å®¹æ˜“æ„Ÿåˆ°æ¯ç‡¥ä¹å‘³ã€‚

æˆ‘å€‘è§€å¯Ÿåˆ°éŠæˆ²åŒ–ï¼ˆGamificationï¼‰çš„æ¦‚å¿µèƒ½å¤ æœ‰æ•ˆæå‡ä½¿ç”¨è€…çš„åƒèˆ‡åº¦èˆ‡é»è‘—åº¦ã€‚é€éå°‡æ—¥å¸¸ç¿’æ…£è½‰åŒ–ç‚ºéŠæˆ²ä»»å‹™ï¼Œæ­é…ç¶“é©—å€¼ã€ç­‰ç´šã€æˆå°±ç³»çµ±ï¼Œèƒ½å¤ è®“é¤Šæˆç¿’æ…£çš„éç¨‹è®Šå¾—æ›´åŠ æœ‰è¶£ä¸”å…·æœ‰æˆå°±æ„Ÿã€‚

### ç›®çš„
1. é–‹ç™¼ä¸€æ¬¾çµåˆéŠæˆ²å…ƒç´ çš„ç¿’æ…£è¿½è¹¤ App
2. é€é RPG éŠæˆ²æ©Ÿåˆ¶ï¼ˆç¶“é©—å€¼ã€ç­‰ç´šã€æˆå°±ï¼‰æå‡ä½¿ç”¨è€…é¤Šæˆç¿’æ…£çš„å‹•åŠ›
3. æä¾›ç›´è¦ºçš„ä½¿ç”¨ä»‹é¢ï¼Œè®“ä½¿ç”¨è€…èƒ½è¼•é¬†ç®¡ç†æ¯æ—¥ç¿’æ…£
4. é‹ç”¨èª²ç¨‹æ‰€å­¸çš„ Dart èˆ‡ Flutter æŠ€è¡“ï¼Œå¯¦ä½œå®Œæ•´çš„è¡Œå‹•æ‡‰ç”¨ç¨‹å¼

---

## 2. èƒŒæ™¯èªªæ˜

### éŠæˆ²åŒ–æ¦‚å¿µ
éŠæˆ²åŒ–ï¼ˆGamificationï¼‰æ˜¯æŒ‡å°‡éŠæˆ²è¨­è¨ˆå…ƒç´ æ‡‰ç”¨æ–¼ééŠæˆ²æƒ…å¢ƒä¸­ï¼Œä»¥æé«˜ä½¿ç”¨è€…åƒèˆ‡åº¦ã€å‹•æ©Ÿå’Œå¿ èª åº¦ã€‚å¸¸è¦‹çš„éŠæˆ²åŒ–å…ƒç´ åŒ…æ‹¬ï¼š
- **ç¶“é©—å€¼ï¼ˆEXPï¼‰**ï¼šå®Œæˆä»»å‹™ç²å¾—çš„çå‹µé»æ•¸
- **ç­‰ç´šç³»çµ±**ï¼šç´¯ç©ç¶“é©—å€¼å¾Œå‡ç´šï¼Œçµ¦äºˆæˆå°±æ„Ÿ
- **æˆå°±å¾½ç« **ï¼šé”æˆç‰¹å®šç›®æ¨™å¾Œè§£é–çš„çå‹µ
- **æ¯æ—¥ä»»å‹™**ï¼šé¼“å‹µä½¿ç”¨è€…æ¯å¤©ç™»å…¥ä¸¦å®Œæˆç›®æ¨™

### æŠ€è¡“èƒŒæ™¯
æœ¬å°ˆæ¡ˆæ¡ç”¨ Google æ¨å‡ºçš„ Flutter æ¡†æ¶é€²è¡Œé–‹ç™¼ï¼Œä½¿ç”¨ Dart ç¨‹å¼èªè¨€ã€‚Flutter å…·æœ‰ä»¥ä¸‹å„ªå‹¢ï¼š
- è·¨å¹³å°é–‹ç™¼ï¼šä¸€å¥—ç¨‹å¼ç¢¼å¯åŒæ™‚æ”¯æ´ Android èˆ‡ iOS
- ç†±é‡è¼‰ï¼ˆHot Reloadï¼‰ï¼šåŠ é€Ÿé–‹ç™¼æ•ˆç‡
- è±å¯Œçš„ Widget å…ƒä»¶åº«ï¼šæä¾›ç¾è§€çš„ UI å…ƒä»¶
- å„ªç§€çš„æ•ˆèƒ½è¡¨ç¾ï¼šæ¥è¿‘åŸç”Ÿ App çš„åŸ·è¡Œé€Ÿåº¦

### æ‡‰ç”¨çš„èª²ç¨‹çŸ¥è­˜
| èª²ç¨‹å–®å…ƒ | æ‡‰ç”¨æ–¹å¼ |
|---------|---------|
| Dart åŸºç¤èªæ³• | è®Šæ•¸ã€å‡½å¼ã€æµç¨‹æ§åˆ¶ |
| é›†åˆèˆ‡ Null å®‰å…¨ | List ç®¡ç†ä»»å‹™ã€å¯é¸æ¬„ä½è™•ç† |
| ç‰©ä»¶å°å‘åŸºç¤ | é¡åˆ¥è¨­è¨ˆã€å»ºæ§‹å­ |
| ç‰©ä»¶å°å‘é€²éš | å·¥å» å»ºæ§‹å­ã€å–®ä¾‹æ¨¡å¼ï¼ˆGameManagerã€GameEventServiceï¼‰ã€é‹ç®—å­é‡è¼‰ï¼ˆExperienceï¼‰ |
| æŠ½è±¡é¡åˆ¥èˆ‡ä»‹é¢ | ä»»å‹™æŠ½è±¡é¡åˆ¥ï¼ˆQuestï¼‰ã€Mixin æ‡‰ç”¨ï¼ˆRewardableã€Trackableï¼‰ |
| Sealed Class | ä»»å‹™ç‹€æ…‹ç®¡ç†ï¼ˆQuestStatusï¼‰ã€éŠæˆ²äº‹ä»¶é¡å‹ï¼ˆGameEventï¼‰ |
| æ³›å‹ (Generics) | æ³›å‹å‹åˆ¥åˆ¥å `Validator<T>`ã€`AsyncLoader<T>`ã€`ListFilter<T>` ç­‰ |
| åˆ—èˆ‰ (Enum) | å¢å¼·åˆ—èˆ‰ï¼šä»»å‹™é›£åº¦ã€åˆ†é¡ã€æˆå°±é¡å‹ã€ç©å®¶ç¨±è™Ÿï¼ˆå«å±¬æ€§èˆ‡æ–¹æ³•ï¼‰ |
| ä¾‹å¤–è™•ç† | è‡ªè¨‚ä¾‹å¤–éšå±¤ï¼š`GameException`ï¼ˆåŸºåº•ï¼‰ã€`QuestException`ã€`PlayerException`ã€`AchievementException` |
| éåŒæ­¥ç¨‹å¼è¨­è¨ˆ | Stream ä¸²æµï¼ˆGameEventServiceï¼‰ã€async/await è³‡æ–™è¼‰å…¥ï¼ˆStorageServiceï¼‰ |
| æ­£è¦è¡¨é”å¼ | Validators é¡åˆ¥é©—è­‰ç©å®¶åç¨±ã€ä»»å‹™æ¨™é¡Œã€Emoji æª¢æ¸¬ |
| typedef | å®šç¾©å›å‘¼å‡½æ•¸é¡å‹ï¼ˆQuestCompletionCallbackã€LevelUpCallback ç­‰ï¼‰ |
| Flutter UI å…ƒä»¶ | BottomNavigationBarã€Cardã€ListViewã€StreamBuilderã€Dismissible ç­‰ |
| å¤šé é¢æ‡‰ç”¨ | é é¢å°èˆªèˆ‡ Provider ç‹€æ…‹ç®¡ç† |
| åœ‹éš›åŒ– | å¤šèªè¨€æ”¯æ´ï¼ˆä¸­/è‹±ï¼‰ï¼ŒAppLocalizations é¡åˆ¥ |
| è³‡æ–™æŒä¹…åŒ– | StorageService ä½¿ç”¨ shared_preferences å¯¦ç¾æœ¬åœ°è³‡æ–™å„²å­˜ |

---

## 3. ç³»çµ±æ¶æ§‹

### æ¶æ§‹åœ–

```mermaid
graph TB
    subgraph APP["ğŸ® Habit Hero App"]
        subgraph UI["ğŸ“± UI Layer - ä»‹é¢å±¤"]
            Home["ğŸ  HomeScreen<br/>é¦–é "]
            Quest["âš”ï¸ QuestScreen<br/>ä»»å‹™é é¢"]
            Achievement["ğŸ† AchievementScreen<br/>æˆå°±é é¢"]
            Stats["ğŸ“Š StatsScreen<br/>çµ±è¨ˆé é¢"]
            Settings["âš™ï¸ SettingsScreen<br/>è¨­å®šé é¢"]

            subgraph Widgets["ğŸ§© Shared Widgets"]
                QuestCard["QuestCard"]
                ExpBar["ExpBar"]
                AchievementBadge["AchievementBadge"]
            end
        end

        subgraph State["ğŸ”„ State Management Layer - ç‹€æ…‹ç®¡ç†å±¤"]
            PlayerProvider["PlayerProvider<br/>ç©å®¶ç‹€æ…‹"]
            QuestProvider["QuestProvider<br/>ä»»å‹™ç‹€æ…‹"]
        end

        subgraph Logic["âš™ï¸ Business Logic Layer - æ¥­å‹™é‚è¼¯å±¤"]
            QuestService["QuestService<br/>ä»»å‹™é‚è¼¯"]
            PlayerService["PlayerService<br/>ç©å®¶é‚è¼¯"]
            AchievementService["AchievementService<br/>æˆå°±é‚è¼¯"]
        end

        subgraph Model["ğŸ“¦ Model Layer - è³‡æ–™æ¨¡å‹å±¤"]
            QuestModel["Quest<br/>Â«abstractÂ»"]
            PlayerModel["Player"]
            AchievementModel["Achievement"]

            DailyQuest["DailyQuest"]
            WeeklyQuest["WeeklyQuest"]

            QuestModel --> DailyQuest
            QuestModel --> WeeklyQuest
        end

        subgraph Storage["ğŸ’¾ Storage Layer - è³‡æ–™å„²å­˜å±¤"]
            SharedPrefs["SharedPreferences<br/>æœ¬åœ°éµå€¼å„²å­˜"]
        end
    end

    Home --> Widgets
    Quest --> Widgets
    Achievement --> Widgets
    Stats --> Widgets

    Widgets --> State
    State --> Logic
    Logic --> Model
    State --> Storage

    style APP fill:#1a1a2e,stroke:#16213e,color:#fff
    style UI fill:#0f3460,stroke:#16213e,color:#fff
    style State fill:#533483,stroke:#16213e,color:#fff
    style Logic fill:#e94560,stroke:#16213e,color:#fff
    style Model fill:#f39422,stroke:#16213e,color:#000
    style Storage fill:#27ae60,stroke:#1e8449,color:#fff
```

> ğŸ“ **ç·šä¸Šæª¢è¦–**ï¼šè¤‡è£½ä¸Šæ–¹ç¨‹å¼ç¢¼è‡³ [mermaid.live](https://mermaid.live) å¯ç”¢ç”Ÿäº’å‹•å¼åœ–è¡¨

### æ¶æ§‹èªªæ˜

#### UI Layerï¼ˆä»‹é¢å±¤ï¼‰
- **HomeScreen**ï¼šé¦–é ï¼Œé¡¯ç¤ºè§’è‰²ç‹€æ…‹ã€ä»Šæ—¥ä»»å‹™æ‘˜è¦ã€ç¶“é©—å€¼é€²åº¦æ¢
- **QuestScreen**ï¼šä»»å‹™é é¢ï¼Œç®¡ç†æ¯æ—¥/æ¯é€±ç¿’æ…£ä»»å‹™
- **AchievementScreen**ï¼šæˆå°±é é¢ï¼Œå±•ç¤ºå·²è§£é–çš„æˆå°±å¾½ç« 
- **StatsScreen**ï¼šçµ±è¨ˆé é¢ï¼Œé¡¯ç¤ºç¿’æ…£å®Œæˆç‡èˆ‡è¶¨å‹¢åœ–è¡¨
- **SettingsScreen**ï¼šè¨­å®šé é¢ï¼Œèªè¨€åˆ‡æ›ã€ä¸»é¡Œè¨­å®š

#### State Management Layerï¼ˆç‹€æ…‹ç®¡ç†å±¤ï¼‰
- ä½¿ç”¨ Provider é€²è¡Œå…¨åŸŸç‹€æ…‹ç®¡ç†
- **PlayerProvider**ï¼šç®¡ç†ç©å®¶ç­‰ç´šã€ç¶“é©—å€¼ã€è§’è‰²è³‡è¨Š
- **QuestProvider**ï¼šç®¡ç†ä»»å‹™åˆ—è¡¨ã€å®Œæˆç‹€æ…‹

#### Business Logic Layerï¼ˆæ¥­å‹™é‚è¼¯å±¤ï¼‰
- **QuestService**ï¼šä»»å‹™ç›¸é—œé‚è¼¯ï¼ˆæ–°å¢ã€å®Œæˆã€é‡ç½®ï¼‰
- **PlayerService**ï¼šç¶“é©—å€¼è¨ˆç®—ã€å‡ç´šåˆ¤å®š
- **AchievementService**ï¼šæˆå°±è§£é–åˆ¤å®š

#### Model Layerï¼ˆè³‡æ–™æ¨¡å‹å±¤ï¼‰
- é‹ç”¨æŠ½è±¡é¡åˆ¥ã€ç¹¼æ‰¿ã€Mixin è¨­è¨ˆè³‡æ–™çµæ§‹
- **Questï¼ˆæŠ½è±¡é¡åˆ¥ï¼‰**ï¼šä»»å‹™åŸºåº•é¡åˆ¥
- **DailyQuest / WeeklyQuest**ï¼šç¹¼æ‰¿ Quest çš„å…·é«”ä»»å‹™é¡åˆ¥
- **Player**ï¼šç©å®¶è§’è‰²è³‡æ–™
- **Achievement**ï¼šæˆå°±è³‡æ–™

#### Storage Layerï¼ˆè³‡æ–™å„²å­˜å±¤ï¼‰
- ä½¿ç”¨ shared_preferences å¥—ä»¶å¯¦ç¾æœ¬åœ°è³‡æ–™å„²å­˜
- å„²å­˜ç©å®¶è³‡æ–™ï¼ˆåç¨±ã€ç­‰ç´šã€ç¶“é©—å€¼ã€é€£å‹å¤©æ•¸ï¼‰
- å„²å­˜ä»»å‹™åˆ—è¡¨ï¼ˆæ¯æ—¥/æ¯é€±ä»»å‹™åŠå®Œæˆç‹€æ…‹ï¼‰
- å„²å­˜æˆå°±è§£é–ç‹€æ…‹
- å„²å­˜ä½¿ç”¨è€…åå¥½è¨­å®šï¼ˆä¸»é¡Œã€èªè¨€ï¼‰
- APP é—œé–‰å¾Œè³‡æ–™ä»æœƒä¿ç•™ï¼Œé‡æ–°é–‹å•Ÿæ™‚è‡ªå‹•è¼‰å…¥

---

## 4. æ“ä½œæµç¨‹

### æµç¨‹åœ–

```mermaid
flowchart TD
    Start([ğŸš€ å•Ÿå‹• App]) --> Home

    subgraph Main["ğŸ“± ä¸»è¦ä»‹é¢"]
        Home["ğŸ  é¦–é  Home<br/>â€¢ è§’è‰²ç‹€æ…‹<br/>â€¢ ç¶“é©—å€¼é€²åº¦<br/>â€¢ ä»Šæ—¥ä»»å‹™æ‘˜è¦"]
        Nav{"ğŸ”½ BottomNavigationBar"}
        Home --> Nav
    end

    subgraph Pages["ğŸ“‘ é é¢å°èˆª"]
        Nav -->|ğŸ  é¦–é | Home
        Nav -->|âš”ï¸ ä»»å‹™| QuestPage
        Nav -->|ğŸ† æˆå°±| AchievementPage
        Nav -->|ğŸ“Š çµ±è¨ˆ| StatsPage
        Nav -->|âš™ï¸ è¨­å®š| SettingsPage
    end

    subgraph QuestFlow["âš”ï¸ ä»»å‹™å®Œæˆæµç¨‹"]
        QuestPage["ğŸ“‹ ä»»å‹™é é¢<br/>â€¢ æ¯æ—¥ä»»å‹™<br/>â€¢ æ¯é€±ä»»å‹™"]
        ClickQuest["ğŸ‘† é»æ“Šä»»å‹™"]
        MarkComplete{"âœ… æ¨™è¨˜å®Œæˆï¼Ÿ"}
        GetExp["âœ¨ ç²å¾—ç¶“é©—å€¼<br/>+EXP å‹•ç•«"]
        CheckLevelUp{"ğŸ“ˆ æª¢æŸ¥å‡ç´šï¼Ÿ"}
        LevelUp["ğŸ‰ å‡ç´šå‹•ç•«<br/>Level Up!"]
        CheckAchievement{"ğŸ… æª¢æŸ¥æˆå°±ï¼Ÿ"}
        UnlockAchievement["ğŸ–ï¸ è§£é–æˆå°±"]

        QuestPage --> ClickQuest
        ClickQuest --> MarkComplete
        MarkComplete -->|æ˜¯| GetExp
        MarkComplete -->|å¦| QuestPage
        GetExp --> CheckLevelUp
        CheckLevelUp -->|æ˜¯| LevelUp
        CheckLevelUp -->|å¦| Home
        LevelUp --> CheckAchievement
        CheckAchievement -->|æœ‰æ–°æˆå°±| UnlockAchievement
        CheckAchievement -->|ç„¡| Home
        UnlockAchievement --> Home
    end

    subgraph OtherPages["ğŸ“„ å…¶ä»–é é¢"]
        AchievementPage["ğŸ† æˆå°±é é¢<br/>â€¢ æˆå°±å¾½ç« <br/>â€¢ è§£é–é€²åº¦"]
        StatsPage["ğŸ“Š çµ±è¨ˆé é¢<br/>â€¢ å®Œæˆç‡<br/>â€¢ è¶¨å‹¢åœ–è¡¨"]
        SettingsPage["âš™ï¸ è¨­å®šé é¢<br/>â€¢ èªè¨€åˆ‡æ›<br/>â€¢ ä¸»é¡Œè¨­å®š"]
    end

    AchievementPage --> Nav
    StatsPage --> Nav
    SettingsPage --> Nav

    style Start fill:#4CAF50,stroke:#2E7D32,color:#fff
    style Home fill:#2196F3,stroke:#1565C0,color:#fff
    style Nav fill:#607D8B,stroke:#455A64,color:#fff
    style QuestPage fill:#FF9800,stroke:#EF6C00,color:#fff
    style GetExp fill:#9C27B0,stroke:#6A1B9A,color:#fff
    style LevelUp fill:#E91E63,stroke:#AD1457,color:#fff
    style UnlockAchievement fill:#FFD700,stroke:#FFA000,color:#000
    style AchievementPage fill:#FFC107,stroke:#FFA000,color:#000
    style StatsPage fill:#00BCD4,stroke:#0097A7,color:#fff
    style SettingsPage fill:#795548,stroke:#5D4037,color:#fff
```

> ğŸ“ **ç·šä¸Šæª¢è¦–**ï¼šè¤‡è£½ä¸Šæ–¹ç¨‹å¼ç¢¼è‡³ [mermaid.live](https://mermaid.live) å¯ç”¢ç”Ÿäº’å‹•å¼åœ–è¡¨

### æµç¨‹èªªæ˜

1. **å•Ÿå‹• App**ï¼šé€²å…¥é¦–é ï¼Œé¡¯ç¤ºç©å®¶è§’è‰²ç‹€æ…‹èˆ‡ä»Šæ—¥ä»»å‹™æ‘˜è¦
2. **ç€è¦½ä»»å‹™**ï¼šé€éåº•éƒ¨å°èˆªåˆ—åˆ‡æ›è‡³ä»»å‹™é é¢
3. **å®Œæˆä»»å‹™**ï¼šé»æ“Šä»»å‹™å¡ç‰‡ï¼Œæ¨™è¨˜ä»»å‹™å®Œæˆ
4. **ç²å¾—çå‹µ**ï¼šå®Œæˆä»»å‹™å¾Œç²å¾—ç¶“é©—å€¼ï¼Œæ’­æ”¾çå‹µå‹•ç•«
5. **å‡ç´šåˆ¤å®š**ï¼šç¶“é©—å€¼é”æ¨™æ™‚è§¸ç™¼å‡ç´šï¼Œæ’­æ”¾å‡ç´šå‹•ç•«
6. **æˆå°±è§£é–**ï¼šé”æˆç‰¹å®šæ¢ä»¶æ™‚è§£é–æˆå°±å¾½ç« 
7. **æŸ¥çœ‹çµ±è¨ˆ**ï¼šç€è¦½ç¿’æ…£å®Œæˆç‡èˆ‡æ­·å²è¶¨å‹¢

---

## 5. æˆæœèªªæ˜

### 5.1 åŠŸèƒ½å±•ç¤º

#### é¦–é  (Home Screen)
- é¡¯ç¤ºç©å®¶è§’è‰²é ­åƒèˆ‡åç¨±
- ç¶“é©—å€¼é€²åº¦æ¢èˆ‡ç•¶å‰ç­‰ç´š
- ä»Šæ—¥ä»»å‹™å®Œæˆé€²åº¦
- æœ€è¿‘å®Œæˆçš„ä»»å‹™åˆ—è¡¨

#### ä»»å‹™é é¢ (Quest Screen)
- TabBar åˆ‡æ›æ¯æ—¥/æ¯é€±ä»»å‹™
- ä»»å‹™å¡ç‰‡é¡¯ç¤ºåç¨±ã€ç¶“é©—å€¼çå‹µã€å®Œæˆç‹€æ…‹
- æ»‘å‹•åˆªé™¤ä»»å‹™åŠŸèƒ½
- FloatingActionButton æ–°å¢ä»»å‹™

#### æˆå°±é é¢ (Achievement Screen)
- Grid å±•ç¤ºæˆå°±å¾½ç« 
- å·²è§£é–/æœªè§£é–ç‹€æ…‹å€åˆ†
- é»æ“ŠæŸ¥çœ‹æˆå°±è©³æƒ…

#### çµ±è¨ˆé é¢ (Stats Screen)
- åœ“é¤…åœ–é¡¯ç¤ºä»»å‹™åˆ†é¡å æ¯”
- æŠ˜ç·šåœ–é¡¯ç¤ºæ¯é€±å®Œæˆè¶¨å‹¢
- é€£çºŒå®Œæˆå¤©æ•¸çµ±è¨ˆ

#### è¨­å®šé é¢ (Settings Screen)
- èªè¨€åˆ‡æ›ï¼ˆä¸­æ–‡/Englishï¼‰
- æ·±è‰²/æ·ºè‰²ä¸»é¡Œåˆ‡æ›
- è§’è‰²åç¨±ç·¨è¼¯

### 5.2 æŠ€è¡“å¯¦ä½œäº®é»

#### æŠ½è±¡é¡åˆ¥èˆ‡ç¹¼æ‰¿
```dart
/// ä»»å‹™æŠ½è±¡é¡åˆ¥ï¼Œæ­é… Mixin ä½¿ç”¨
abstract class Quest with Rewardable, Trackable {
  final String id;
  String title;
  String description;
  int expReward;
  QuestStatus status;
  final QuestType type;
  final DateTime createdAt;

  Quest({
    required this.id,
    required this.title,
    this.description = '',
    required this.expReward,
    this.status = const Pending(),
    required this.type,
    DateTime? createdAt,
  }) : createdAt = createdAt ?? DateTime.now();

  void complete();  // æŠ½è±¡æ–¹æ³•
  void reset();     // æŠ½è±¡æ–¹æ³•
  bool get isCompleted => status is Completed;
}

/// æ¯æ—¥ä»»å‹™
class DailyQuest extends Quest {
  DailyQuest({
    required super.id,
    required super.title,
    super.description,
    super.expReward = 10,
    super.status,
  }) : super(type: QuestType.daily);

  @override
  void complete() {
    if (status is! Completed) {
      status = QuestStatus.completed();
      markCompleted();  // ä¾†è‡ª Trackable mixin
    }
  }

  @override
  void reset() {
    status = QuestStatus.pending();
    completedAt = null;
  }
}
```

#### Sealed Class ç‹€æ…‹ç®¡ç†
```dart
/// ä»»å‹™ç‹€æ…‹å¯†å°é¡åˆ¥
sealed class QuestStatus {
  const QuestStatus();

  // å·¥å» å»ºæ§‹å­
  factory QuestStatus.pending() => const Pending();
  factory QuestStatus.inProgress() => const InProgress();
  factory QuestStatus.completed() => const Completed();
}

class Pending extends QuestStatus {
  const Pending();
}

class InProgress extends QuestStatus {
  const InProgress();
}

class Completed extends QuestStatus {
  const Completed();
}
```

#### Mixin åŠŸèƒ½å¾©ç”¨
```dart
/// çå‹µè¨ˆç®— Mixin
mixin Rewardable {
  /// è¨ˆç®—çå‹µ
  int calculateReward(int baseExp, int multiplier) => baseExp * multiplier;

  /// æ ¹æ“šé€£å‹è¨ˆç®—é¡å¤–çå‹µ
  int calculateStreakBonus(int baseExp, int streak) {
    if (streak >= 30) return baseExp ~/ 2; // 50% bonus
    if (streak >= 7) return baseExp ~/ 4;  // 25% bonus
    if (streak >= 3) return baseExp ~/ 10; // 10% bonus
    return 0;
  }
}

/// å®Œæˆè¿½è¹¤ Mixin
mixin Trackable {
  DateTime? completedAt;

  /// æ¨™è¨˜å®Œæˆ
  void markCompleted() => completedAt = DateTime.now();

  /// æª¢æŸ¥æ˜¯å¦ä»Šæ—¥å®Œæˆ
  bool get isCompletedToday {
    if (completedAt == null) return false;
    final now = DateTime.now();
    return completedAt!.year == now.year &&
        completedAt!.month == now.month &&
        completedAt!.day == now.day;
  }

  /// å–å¾—å®Œæˆå¾Œç¶“éçš„æ™‚é–“
  Duration? get timeSinceCompletion {
    if (completedAt == null) return null;
    return DateTime.now().difference(completedAt!);
  }
}

// ä½¿ç”¨æ–¹å¼ï¼šæŠ½è±¡é¡åˆ¥æ­é… Mixin
abstract class Quest with Rewardable, Trackable { ... }
```

#### é‹ç®—å­é‡è¼‰
```dart
/// ç¶“é©—å€¼é¡åˆ¥ï¼Œå±•ç¤ºé‹ç®—å­é‡è¼‰
class Experience {
  final int value;

  const Experience(this.value);

  /// å·¥å» å»ºæ§‹å­
  factory Experience.zero() => const Experience(0);

  /// åŠ æ³•é‹ç®—å­
  Experience operator +(Experience other) => Experience(value + other.value);

  /// æ¸›æ³•é‹ç®—å­
  Experience operator -(Experience other) => Experience(value - other.value);

  /// æ¯”è¼ƒé‹ç®—å­
  bool operator >(Experience other) => value > other.value;
  bool operator <(Experience other) => value < other.value;
  bool operator >=(Experience other) => value >= other.value;
  bool operator <=(Experience other) => value <= other.value;

  /// ç›¸ç­‰é‹ç®—å­
  @override
  bool operator ==(Object other) =>
      identical(this, other) ||
      other is Experience && value == other.value;

  @override
  int get hashCode => value.hashCode;

  @override
  String toString() => '$value EXP';
}
```

#### å–®ä¾‹æ¨¡å¼
```dart
class GameManager {
  static final GameManager _instance = GameManager._internal();
  factory GameManager() => _instance;
  GameManager._internal();

  // å…¨åŸŸéŠæˆ²ç‹€æ…‹ç®¡ç†
}
```

#### è³‡æ–™æŒä¹…åŒ–ï¼ˆshared_preferencesï¼‰
```dart
/// StorageService - è³‡æ–™æŒä¹…åŒ–æœå‹™
/// ä½¿ç”¨ shared_preferences å¯¦ç¾æœ¬åœ°è³‡æ–™å„²å­˜
class StorageService {
  static const String _keyPlayerName = 'player_name';
  static const String _keyPlayerLevel = 'player_level';
  static const String _keyPlayerExp = 'player_exp';
  static const String _keyPlayerStreak = 'player_streak';
  static const String _keyDailyQuests = 'daily_quests';
  static const String _keyWeeklyQuests = 'weekly_quests';

  SharedPreferences? _prefs;

  /// åˆå§‹åŒ– SharedPreferences
  Future<void> init() async {
    _prefs = await SharedPreferences.getInstance();
  }

  /// å„²å­˜ç©å®¶è³‡æ–™
  Future<void> savePlayerData({
    required String name,
    required int level,
    required int exp,
    required int streak,
  }) async {
    await _prefs!.setString(_keyPlayerName, name);
    await _prefs!.setInt(_keyPlayerLevel, level);
    await _prefs!.setInt(_keyPlayerExp, exp);
    await _prefs!.setInt(_keyPlayerStreak, streak);
  }

  /// è®€å–ç©å®¶åç¨±
  String getPlayerName() => _prefs!.getString(_keyPlayerName) ?? 'å†’éšªè€…';
  int getPlayerLevel() => _prefs!.getInt(_keyPlayerLevel) ?? 1;
  int getPlayerExp() => _prefs!.getInt(_keyPlayerExp) ?? 0;
}

/// PlayerProvider ä½¿ç”¨ StorageService
class PlayerProvider extends ChangeNotifier {
  final StorageService _storage;

  PlayerProvider(this._storage) {
    loadData();
  }

  /// å¾å„²å­˜è¼‰å…¥ç©å®¶è³‡æ–™
  void loadData() {
    _player = Player(
      id: 'player_1',
      name: _storage.getPlayerName(),
      level: _storage.getPlayerLevel(),
      totalExp: Experience(_storage.getPlayerExp()),
    );
    notifyListeners();
  }
}
```

#### åˆ—èˆ‰å®šç¾©éŠæˆ²å¸¸æ•¸ï¼ˆå¢å¼·åˆ—èˆ‰ï¼‰
```dart
/// ä»»å‹™é›£åº¦ç­‰ç´šï¼ˆå¢å¼·åˆ—èˆ‰ï¼Œå«å±¬æ€§èˆ‡æ–¹æ³•ï¼‰
enum QuestDifficulty {
  easy('ç°¡å–®', 1.0, 'ğŸŸ¢'),
  normal('æ™®é€š', 1.5, 'ğŸŸ¡'),
  hard('å›°é›£', 2.0, 'ğŸŸ '),
  legendary('å‚³èªª', 3.0, 'ğŸ”´');

  final String label;
  final double expMultiplier;
  final String icon;

  const QuestDifficulty(this.label, this.expMultiplier, this.icon);

  /// æ ¹æ“šé›£åº¦è¨ˆç®—ç¶“é©—å€¼
  int calculateExp(int baseExp) => (baseExp * expMultiplier).round();
}

/// ä»»å‹™åˆ†é¡
enum QuestCategory {
  health('å¥åº·', 'â¤ï¸'),
  study('å­¸ç¿’', 'ğŸ“š'),
  exercise('é‹å‹•', 'ğŸ’ª'),
  lifestyle('ç”Ÿæ´»', 'ğŸ '),
  social('ç¤¾äº¤', 'ğŸ‘¥'),
  creativity('å‰µæ„', 'ğŸ¨');

  final String label;
  final String icon;

  const QuestCategory(this.label, this.icon);
}

/// æˆå°±é¡å‹
enum AchievementType {
  streak('é€£çºŒé”æˆ', 'ğŸ”¥'),
  total('ç´¯è¨ˆå®Œæˆ', 'â­'),
  level('ç­‰ç´šé‡Œç¨‹ç¢‘', 'ğŸ†'),
  special('ç‰¹æ®Šæˆå°±', 'ğŸ’');

  final String label;
  final String icon;

  const AchievementType(this.label, this.icon);
}

/// ç©å®¶ç¨±è™Ÿç­‰ç´š
enum PlayerRank {
  novice(1, 'æ–°æ‰‹å†’éšªè€…', 'ğŸŒ±'),
  apprentice(5, 'è¦‹ç¿’å‹‡è€…', 'âš”ï¸'),
  warrior(10, 'æˆ°å£«', 'ğŸ›¡ï¸'),
  master(50, 'å¤§å¸«', 'ğŸ‘‘');

  final int requiredLevel;
  final String title;
  final String icon;

  const PlayerRank(this.requiredLevel, this.title, this.icon);

  /// æ ¹æ“šç­‰ç´šå–å¾—å°æ‡‰ç¨±è™Ÿ
  static PlayerRank fromLevel(int level) {
    return PlayerRank.values.lastWhere(
      (rank) => level >= rank.requiredLevel,
      orElse: () => PlayerRank.novice,
    );
  }
}
```

#### æ³›å‹å‹åˆ¥åˆ¥åï¼ˆGeneric Typedefï¼‰
```dart
/// æ³›å‹é©—è­‰å‡½æ•¸
typedef Validator<T> = bool Function(T value);

/// å­—ä¸²é©—è­‰å‡½æ•¸ï¼ˆç‰¹åŒ– Validatorï¼‰
typedef StringValidator = Validator<String>;

/// æ•¸å€¼é©—è­‰å‡½æ•¸
typedef NumberValidator = Validator<num>;

/// éåŒæ­¥è³‡æ–™è¼‰å…¥å‡½æ•¸
typedef AsyncLoader<T> = Future<T> Function();

/// éåŒæ­¥è³‡æ–™å„²å­˜å‡½æ•¸
typedef AsyncSaver<T> = Future<void> Function(T data);

/// JSON è½‰æ›å‡½æ•¸
typedef JsonParser<T> = T Function(Map<String, dynamic> json);

/// ç‰©ä»¶è½‰ JSON å‡½æ•¸
typedef JsonSerializer<T> = Map<String, dynamic> Function(T object);

/// åˆ—è¡¨éæ¿¾å‡½æ•¸
typedef ListFilter<T> = bool Function(T item);

/// åˆ—è¡¨æ’åºæ¯”è¼ƒå‡½æ•¸
typedef ListSorter<T> = int Function(T a, T b);

// ä½¿ç”¨ç¯„ä¾‹
final StringValidator isNotEmpty = (s) => s.isNotEmpty;
final ListFilter<Quest> isCompleted = (q) => q.isCompleted;
```

#### Stream å³æ™‚æ›´æ–° UIï¼ˆGameEventServiceï¼‰
```dart
/// éŠæˆ²äº‹ä»¶é¡å‹ï¼ˆä½¿ç”¨ Sealed Classï¼‰
sealed class GameEvent {
  final DateTime timestamp;
  GameEvent() : timestamp = DateTime.now();
}

/// ç¶“é©—å€¼è®ŠåŒ–äº‹ä»¶
class ExpChangedEvent extends GameEvent {
  final int oldExp;
  final int newExp;
  final int delta;

  ExpChangedEvent({required this.oldExp, required this.newExp})
      : delta = newExp - oldExp;
}

/// ç­‰ç´šæå‡äº‹ä»¶
class LevelUpEvent extends GameEvent {
  final int oldLevel;
  final int newLevel;

  LevelUpEvent({required this.oldLevel, required this.newLevel});
}

/// æˆå°±è§£é–äº‹ä»¶
class AchievementUnlockedEvent extends GameEvent {
  final Achievement achievement;
  AchievementUnlockedEvent({required this.achievement});
}

/// éŠæˆ²äº‹ä»¶æœå‹™ï¼ˆSingleton + Streamï¼‰
class GameEventService {
  static final GameEventService _instance = GameEventService._internal();
  factory GameEventService() => _instance;
  GameEventService._internal();

  // å»£æ’­ StreamControllerï¼ˆå…è¨±å¤šå€‹ç›£è½è€…ï¼‰
  final _eventController = StreamController<GameEvent>.broadcast();

  /// å–å¾—äº‹ä»¶ä¸²æµ
  Stream<GameEvent> get eventStream => _eventController.stream;

  /// å–å¾—ç‰¹å®šé¡å‹çš„äº‹ä»¶ä¸²æµ
  Stream<LevelUpEvent> get levelUpStream =>
      eventStream.where((e) => e is LevelUpEvent).cast<LevelUpEvent>();

  /// ç™¼é€ç­‰ç´šæå‡äº‹ä»¶
  void emitLevelUp(int oldLevel, int newLevel) {
    _eventController.add(LevelUpEvent(oldLevel: oldLevel, newLevel: newLevel));
  }

  /// ç™¼é€æˆå°±è§£é–äº‹ä»¶
  void emitAchievementUnlocked(Achievement achievement) {
    _eventController.add(AchievementUnlockedEvent(achievement: achievement));
  }
}

// åœ¨ UI ä¸­ä½¿ç”¨ StreamBuilder ç›£è½å‡ç´šäº‹ä»¶
StreamBuilder<LevelUpEvent>(
  stream: GameEventService().levelUpStream,
  builder: (context, snapshot) {
    if (snapshot.hasData) {
      // é¡¯ç¤ºå‡ç´šå‹•ç•«æˆ–è¨Šæ¯
    }
    return Container();
  },
)
```

#### è‡ªè¨‚ä¾‹å¤–è™•ç†
```dart
/// éŠæˆ²ä¾‹å¤–åŸºåº•é¡åˆ¥ï¼ˆæŠ½è±¡é¡åˆ¥ï¼‰
abstract class GameException implements Exception {
  final String message;
  final String code;

  const GameException(this.message, this.code);

  @override
  String toString() => '[$code] $message';
}

/// ä»»å‹™ç›¸é—œä¾‹å¤–
class QuestException extends GameException {
  const QuestException(String message) : super(message, 'QUEST_ERROR');

  /// å·¥å» å»ºæ§‹å­ï¼šä»»å‹™ä¸å­˜åœ¨
  factory QuestException.notFound(String questId) =>
      QuestException('æ‰¾ä¸åˆ°ä»»å‹™: $questId');

  /// å·¥å» å»ºæ§‹å­ï¼šç„¡æ•ˆçš„ç¶“é©—å€¼
  factory QuestException.invalidExp(int exp) =>
      QuestException('ç¶“é©—å€¼ä¸å¯ç‚ºè² æ•¸: $exp');

  /// å·¥å» å»ºæ§‹å­ï¼šç„¡æ•ˆçš„ä»»å‹™æ¨™é¡Œ
  factory QuestException.invalidTitle(String title) =>
      QuestException('ä»»å‹™æ¨™é¡Œç„¡æ•ˆ: $title');
}

/// ç©å®¶ç›¸é—œä¾‹å¤–
class PlayerException extends GameException {
  const PlayerException(String message) : super(message, 'PLAYER_ERROR');

  /// ç„¡æ•ˆçš„ç©å®¶åç¨±
  factory PlayerException.invalidName(String name, String reason) =>
      PlayerException('ç„¡æ•ˆçš„ç©å®¶åç¨±ã€Œ$nameã€: $reason');
}

/// æˆå°±ç›¸é—œä¾‹å¤–
class AchievementException extends GameException {
  const AchievementException(String message) : super(message, 'ACHIEVEMENT_ERROR');

  /// æˆå°±ä¸å­˜åœ¨
  factory AchievementException.notFound(String achievementId) =>
      AchievementException('æ‰¾ä¸åˆ°æˆå°±: $achievementId');
}

// ä½¿ç”¨ç¯„ä¾‹
try {
  if (quest.title.isEmpty) {
    throw QuestException.invalidTitle(quest.title);
  }
} on QuestException catch (e) {
  print(e.toString()); // [QUEST_ERROR] ä»»å‹™æ¨™é¡Œç„¡æ•ˆ: ...
}
```

#### æ­£è¦è¡¨é”å¼é©—è­‰è¼¸å…¥
```dart
/// é©—è­‰å·¥å…·é¡åˆ¥
class Validators {
  Validators._(); // é˜²æ­¢å¯¦ä¾‹åŒ–

  /// ç©å®¶åç¨±æ­£è¦è¡¨é”å¼
  /// è¦å‰‡ï¼š2-20 å­—å…ƒï¼Œå…è¨±ä¸­æ–‡ã€è‹±æ–‡ã€æ•¸å­—ã€åº•ç·š
  static final RegExp _playerNameRegex =
      RegExp(r'^[\u4e00-\u9fa5a-zA-Z0-9_]{2,20}$');

  /// ä»»å‹™æ¨™é¡Œæ­£è¦è¡¨é”å¼
  /// è¦å‰‡ï¼š1-50 å­—å…ƒï¼Œä¸å…è¨±ç‰¹æ®Šç¬¦è™Ÿï¼ˆé™¤äº†å¸¸è¦‹æ¨™é»ï¼‰
  static final RegExp _questTitleRegex =
      RegExp(r'^[\u4e00-\u9fa5a-zA-Z0-9\sï¼Œã€‚ï¼ï¼Ÿã€ï¼šï¼›()_-]{1,50}$');

  /// é©—è­‰ç©å®¶åç¨±
  static bool isValidPlayerName(String name) {
    if (name.isEmpty) return false;
    return _playerNameRegex.hasMatch(name);
  }

  /// é©—è­‰ç©å®¶åç¨±ä¸¦è¿”å›éŒ¯èª¤è¨Šæ¯
  static String? validatePlayerName(String name) {
    if (name.isEmpty) return 'åç¨±ä¸å¯ç‚ºç©º';
    if (name.length < 2) return 'åç¨±è‡³å°‘éœ€è¦ 2 å€‹å­—å…ƒ';
    if (name.length > 20) return 'åç¨±ä¸å¯è¶…é 20 å€‹å­—å…ƒ';
    if (!_playerNameRegex.hasMatch(name)) {
      return 'åç¨±åªèƒ½åŒ…å«ä¸­æ–‡ã€è‹±æ–‡ã€æ•¸å­—å’Œåº•ç·š';
    }
    return null; // é©—è­‰é€šé
  }

  /// é©—è­‰ç©å®¶åç¨±ï¼ˆæœƒæ‹‹å‡ºä¾‹å¤–ï¼‰
  static void assertValidPlayerName(String name) {
    final error = validatePlayerName(name);
    if (error != null) {
      throw PlayerException.invalidName(name, error);
    }
  }

  /// æª¢æŸ¥æ˜¯å¦åŒ…å« Emoji
  static bool containsEmoji(String input) {
    final emojiRegex = RegExp(
      r'[\u{1F600}-\u{1F64F}]|'  // Emoticons
      r'[\u{1F300}-\u{1F5FF}]|'  // Misc Symbols and Pictographs
      r'[\u{1F680}-\u{1F6FF}]',   // Transport and Map
      unicode: true,
    );
    return emojiRegex.hasMatch(input);
  }
}

// ä½¿ç”¨ç¯„ä¾‹
if (!Validators.isValidPlayerName(inputName)) {
  final error = Validators.validatePlayerName(inputName);
  showErrorDialog(error!);
}
```

#### typedef å®šç¾©å›å‘¼å‡½æ•¸é¡å‹
```dart
/// ç¶“é©—å€¼è¨ˆç®—å‡½æ•¸
typedef ExpCalculator = int Function(int baseExp, double multiplier);

/// ä»»å‹™å®Œæˆå›å‘¼
typedef QuestCompletionCallback = void Function(Quest quest, int expGained);

/// æˆå°±è§£é–å›å‘¼
typedef AchievementUnlockCallback = void Function(Achievement achievement);

/// ç­‰ç´šæå‡å›å‘¼
typedef LevelUpCallback = void Function(int oldLevel, int newLevel);

/// éŒ¯èª¤è™•ç†å‡½æ•¸
typedef ErrorHandler = void Function(Object error, StackTrace stackTrace);

/// é€²åº¦æ›´æ–°å›å‘¼
typedef ProgressCallback = void Function(double progress);

/// ä½¿ç”¨ç¯„ä¾‹
class QuestCard extends StatelessWidget {
  final Quest quest;
  final VoidCallback? onTap;
  final VoidCallback? onComplete;
  final VoidCallback? onDelete;

  const QuestCard({
    super.key,
    required this.quest,
    this.onTap,
    this.onComplete,
    this.onDelete,
  });

  // å…ƒä»¶ä½¿ç”¨å›å‘¼å‡½æ•¸è™•ç†ä½¿ç”¨è€…äº’å‹•
}
```

### 5.3 ç•«é¢æˆªåœ–

| é¦–é  | ä»»å‹™ | æˆå°± | çµ±è¨ˆ | è¨­å®š |
|:----:|:----:|:----:|:----:|:----:|
| ![é¦–é ](screenshots/home.png) | ![ä»»å‹™](screenshots/quest.png) | ![æˆå°±](screenshots/achievement.png) | ![çµ±è¨ˆ](screenshots/stats.png) | ![è¨­å®š](screenshots/settings.png) |

---

## 6. çµè«–

æœ¬å°ˆæ¡ˆæˆåŠŸé–‹ç™¼äº†ä¸€æ¬¾éŠæˆ²åŒ–ç¿’æ…£é¤Šæˆ Appã€Œç¿’æ…£è‹±é›„ Habit Heroã€ï¼Œå°‡æ—¥å¸¸ç¿’æ…£è¿½è¹¤èˆ‡ RPG éŠæˆ²å…ƒç´ çµåˆï¼Œæä¾›ä½¿ç”¨è€…æ›´æœ‰è¶£çš„ç¿’æ…£é¤Šæˆé«”é©—ã€‚

### é”æˆç›®æ¨™
1. **å®Œæ•´çš„éŠæˆ²åŒ–æ©Ÿåˆ¶**ï¼šå¯¦ä½œç¶“é©—å€¼ã€ç­‰ç´šã€æˆå°±ç³»çµ±
2. **ç›´è¦ºçš„ä½¿ç”¨ä»‹é¢**ï¼šé‹ç”¨ Flutter è±å¯Œçš„ Widget å»ºæ§‹ç¾è§€ UI
3. **ç´®å¯¦çš„ç¨‹å¼æ¶æ§‹**ï¼šé‹ç”¨ç‰©ä»¶å°å‘è¨­è¨ˆåŸå‰‡ï¼Œç¨‹å¼ç¢¼å…·æœ‰è‰¯å¥½çš„å¯ç¶­è­·æ€§
4. **èª²ç¨‹çŸ¥è­˜çš„å¯¦è¸**ï¼šæ¶µè“‹æœ¬å­¸æœŸæ‰€å­¸çš„ Dart èˆ‡ Flutter æŠ€è¡“

### å­¸ç¿’æ”¶ç©«
- ç†Ÿç·´é‹ç”¨ Flutter æ¡†æ¶é–‹ç™¼è¡Œå‹•æ‡‰ç”¨ç¨‹å¼
- æ·±å…¥ç†è§£ Dart ç‰©ä»¶å°å‘ç¨‹å¼è¨­è¨ˆï¼ˆæŠ½è±¡é¡åˆ¥ã€Mixinã€Sealed Classï¼‰
- æŒæ¡ç‹€æ…‹ç®¡ç†èˆ‡å…ƒä»¶é–“é€šè¨Šçš„æŠ€å·§
- é«”é©—å®Œæ•´çš„è»Ÿé«”é–‹ç™¼æµç¨‹

---

## 7. å»ºè­°ï¼ˆæœªä¾†æ”¹é€²æ–¹å‘ï¼‰

### åŠŸèƒ½æ“´å……
1. **ç¤¾ç¾¤åŠŸèƒ½**ï¼šåŠ å…¥å¥½å‹ç³»çµ±ï¼Œå¯ä»¥æŸ¥çœ‹æœ‹å‹çš„ç¿’æ…£å®Œæˆç‹€æ³ï¼Œäº’ç›¸æ¿€å‹µ
2. **é›²ç«¯åŒæ­¥**ï¼šä½¿ç”¨ Firebase å¯¦ç¾è³‡æ–™é›²ç«¯å‚™ä»½èˆ‡è·¨è£ç½®åŒæ­¥
3. **æ¨æ’­é€šçŸ¥**ï¼šæé†’ä½¿ç”¨è€…å®Œæˆæ¯æ—¥ç¿’æ…£
4. **æ›´å¤šéŠæˆ²å…ƒç´ **ï¼šåŠ å…¥è£å‚™ç³»çµ±ã€å¯µç‰©å¤¥ä¼´ã€å‰¯æœ¬æŒ‘æˆ°ç­‰

### æŠ€è¡“å„ªåŒ–
1. **ç‹€æ…‹ç®¡ç†å‡ç´š**ï¼šå°å…¥ Riverpod æˆ– BLoC é€²è¡Œæ›´å®Œå–„çš„ç‹€æ…‹ç®¡ç†
2. **æ•ˆèƒ½å„ªåŒ–**ï¼šé‡å°é•·åˆ—è¡¨å¯¦ä½œè™›æ“¬æ»¾å‹•ï¼Œæ¸›å°‘è¨˜æ†¶é«”ä½¿ç”¨
3. **æ¸¬è©¦è¦†è“‹**ï¼šæ’°å¯«å–®å…ƒæ¸¬è©¦èˆ‡æ•´åˆæ¸¬è©¦ï¼Œç¢ºä¿ç¨‹å¼å“è³ª

### ä½¿ç”¨è€…é«”é©—
1. **æ–°æ‰‹å¼•å°**ï¼šåŠ å…¥é¦–æ¬¡ä½¿ç”¨çš„æ•™å­¸æµç¨‹
2. **è‡ªè¨‚ä¸»é¡Œ**ï¼šè®“ä½¿ç”¨è€…å¯ä»¥è‡ªè¨‚ App é…è‰²
3. **è³‡æ–™åŒ¯å‡º**ï¼šæ”¯æ´åŒ¯å‡ºç¿’æ…£ç´€éŒ„ç‚º CSV æˆ– PDF

---

## 8. åƒè€ƒæ–‡ç»

1. Flutter å®˜æ–¹æ–‡ä»¶. https://docs.flutter.dev/
2. Dart å®˜æ–¹æ–‡ä»¶. https://dart.dev/guides
3. Flutter Widget Catalog. https://docs.flutter.dev/ui/widgets
4. Provider å¥—ä»¶æ–‡ä»¶. https://pub.dev/packages/provider
5. fl_chart åœ–è¡¨å¥—ä»¶. https://pub.dev/packages/fl_chart
6. shared_preferences å¥—ä»¶æ–‡ä»¶. https://pub.dev/packages/shared_preferences
7. èª²ç¨‹æ•™æ - APPç¨‹å¼è¨­è¨ˆ, åœ‹ç«‹é«˜é›„ç§‘æŠ€å¤§å­¸, 114å­¸å¹´åº¦

---

## 9. æª”æ¡ˆé€£çµ

### GitHub Repository

```
https://github.com/TsaiFucheng/app_end
```

### å°ˆæ¡ˆçµæ§‹
```
app_end/
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ main.dart                    # ç¨‹å¼é€²å…¥é»
â”‚   â”œâ”€â”€ app.dart                     # App ä¸»é«”èˆ‡è·¯ç”±è¨­å®š
â”‚   â”‚
â”‚   â”œâ”€â”€ models/                      # è³‡æ–™æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ quest.dart               # ä»»å‹™é¡åˆ¥ï¼ˆå« Quest æŠ½è±¡é¡åˆ¥ã€DailyQuestã€WeeklyQuestã€QuestStatusï¼‰
â”‚   â”‚   â”œâ”€â”€ player.dart              # ç©å®¶è³‡æ–™
â”‚   â”‚   â”œâ”€â”€ achievement.dart         # æˆå°±è³‡æ–™
â”‚   â”‚   â”œâ”€â”€ experience.dart          # ç¶“é©—å€¼ï¼ˆé‹ç®—å­é‡è¼‰ï¼‰
â”‚   â”‚   â””â”€â”€ game_enums.dart          # éŠæˆ²åˆ—èˆ‰ï¼ˆé›£åº¦ã€åˆ†é¡ã€æˆå°±é¡å‹ã€ç¨±è™Ÿç­‰ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ screens/                     # é é¢
â”‚   â”‚   â”œâ”€â”€ home_screen.dart         # é¦–é 
â”‚   â”‚   â”œâ”€â”€ quest_screen.dart        # ä»»å‹™é é¢
â”‚   â”‚   â”œâ”€â”€ achievement_screen.dart  # æˆå°±é é¢
â”‚   â”‚   â”œâ”€â”€ stats_screen.dart        # çµ±è¨ˆé é¢
â”‚   â”‚   â””â”€â”€ settings_screen.dart     # è¨­å®šé é¢
â”‚   â”‚
â”‚   â”œâ”€â”€ widgets/                     # å¯é‡ç”¨å…ƒä»¶
â”‚   â”‚   â”œâ”€â”€ quest_card.dart          # ä»»å‹™å¡ç‰‡ï¼ˆå« QuestCardã€QuestCardMiniã€WeeklyQuestCardMiniï¼‰
â”‚   â”‚   â”œâ”€â”€ exp_bar.dart             # ç¶“é©—å€¼é€²åº¦æ¢ï¼ˆå« ExpBarã€ExpBarCompactï¼‰
â”‚   â”‚   â””â”€â”€ achievement_badge.dart   # æˆå°±å¾½ç« ï¼ˆå« AchievementBadgeã€AchievementDetailDialogï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ providers/                   # ç‹€æ…‹ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ player_provider.dart     # ç©å®¶ç‹€æ…‹ç®¡ç†
â”‚   â”‚   â””â”€â”€ quest_provider.dart      # ä»»å‹™èˆ‡æˆå°±ç‹€æ…‹ç®¡ç†
â”‚   â”‚
â”‚   â”œâ”€â”€ services/                    # æœå‹™å±¤
â”‚   â”‚   â”œâ”€â”€ game_manager.dart        # éŠæˆ²ç®¡ç†å™¨ï¼ˆå–®ä¾‹æ¨¡å¼ï¼‰
â”‚   â”‚   â”œâ”€â”€ storage_service.dart     # è³‡æ–™æŒä¹…åŒ–æœå‹™ï¼ˆSharedPreferencesï¼‰
â”‚   â”‚   â””â”€â”€ game_event_service.dart  # éŠæˆ²äº‹ä»¶æœå‹™ï¼ˆStream ä¸²æµï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ exceptions/                  # è‡ªè¨‚ä¾‹å¤–
â”‚   â”‚   â””â”€â”€ game_exceptions.dart     # éŠæˆ²ä¾‹å¤–ï¼ˆå« QuestExceptionã€PlayerExceptionã€AchievementExceptionã€StorageExceptionï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/                       # å·¥å…·é¡
â”‚   â”‚   â”œâ”€â”€ validators.dart          # æ­£è¦è¡¨é”å¼é©—è­‰
â”‚   â”‚   â””â”€â”€ typedefs.dart            # typedef å®šç¾©
â”‚   â”‚
â”‚   â”œâ”€â”€ mixins/                      # Mixin
â”‚   â”‚   â”œâ”€â”€ rewardable.dart          # çå‹µè¨ˆç®— Mixin
â”‚   â”‚   â””â”€â”€ trackable.dart           # å®Œæˆè¿½è¹¤ Mixin
â”‚   â”‚
â”‚   â””â”€â”€ l10n/                        # åœ‹éš›åŒ–
â”‚       â””â”€â”€ app_localizations.dart   # å¤šèªè¨€æ”¯æ´ï¼ˆä¸­/è‹±ï¼‰
â”‚
â”œâ”€â”€ assets/
â”‚   â””â”€â”€ images/
â”œâ”€â”€ pubspec.yaml
â””â”€â”€ README.md
```

---

## 10. é™„éŒ„

### çµ„å“¡ä»‹ç´¹èˆ‡åˆ†å·¥

#### çµ„å“¡è³‡è¨Š

| é …ç›® | å…§å®¹ |
|------|------|
| å§“å | è”¡å¯ŒåŸ |
| å­¸è™Ÿ | C112151106|
| ç³»ç´š | å››è³‡å·¥ä¸‰ç”²|
| Email | a0908345017@gmail.com|



#### åˆ†å·¥èªªæ˜
ç”±æ–¼æœ¬å°ˆæ¡ˆç‚ºå€‹äººç¨ç«‹å®Œæˆï¼Œæ‰€æœ‰å·¥ä½œé …ç›®çš†ç”±æœ¬äººè² è²¬ï¼š

| å·¥ä½œé …ç›® | è² è²¬äºº | å®Œæˆåº¦ |
|---------|--------|--------|
| éœ€æ±‚åˆ†æèˆ‡è¦åŠƒ | æœ¬äºº | 100% |
| UI/UX è¨­è¨ˆ | æœ¬äºº | 100% |
| è³‡æ–™æ¨¡å‹è¨­è¨ˆ | æœ¬äºº | 100% |
| å‰ç«¯ä»‹é¢é–‹ç™¼ | æœ¬äºº | 100% |
| æ¥­å‹™é‚è¼¯å¯¦ä½œ | æœ¬äºº | 100% |
| æ¸¬è©¦èˆ‡é™¤éŒ¯ | æœ¬äºº | 100% |
| æ–‡ä»¶æ’°å¯« | æœ¬äºº | 100% |

---

### é–‹ç™¼æ™‚ç¨‹

| é€±æ¬¡ | å·¥ä½œå…§å®¹ |
|------|---------|
| ç¬¬1é€± | éœ€æ±‚åˆ†æã€æ¶æ§‹è¨­è¨ˆ |
| ç¬¬2é€± | è³‡æ–™æ¨¡å‹å¯¦ä½œï¼ˆQuestã€Playerã€Achievementï¼‰ |
| ç¬¬3é€± | é¦–é èˆ‡ä»»å‹™é é¢é–‹ç™¼ |
| ç¬¬4é€± | æˆå°±èˆ‡çµ±è¨ˆé é¢é–‹ç™¼ |
| ç¬¬5é€± | è¨­å®šé é¢ã€åœ‹éš›åŒ–ã€ä¸»é¡Œåˆ‡æ› |
| ç¬¬6é€± | æ¸¬è©¦ã€é™¤éŒ¯ã€æ–‡ä»¶æ’°å¯« |

---